<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='style.css')}}" />
        <link
            rel="shortcut icon"
            href="{{ url_for('static', filename='favicon.png') }}"
            type="image/x-icon" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
            integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer" />
        <script src="https://unpkg.com/@phosphor-icons/web"></script>
        <title>Edit User Information</title>
    </head>

    <body class="register">
        {% extends 'base.html' %} {% block content %}
        <div class="content login">
            <form
                method="POST"
                action="{{ url_for('update_user') }}"
                class="login-details">
                <div class="logo-wrapper">
                    <img
                        class="logo-image"
                        src="{{ url_for('static', filename='logo.png') }}"
                        alt="Dayartne Holdings Logo" />
                </div>
                <div class="twosections">
                    <div class="sections-container">
                        <div class="section">
                            <div class="form-sections">
                                <h4 class="input-head">Username</h4>
                                <input
                                    type="text"
                                    class="login-input"
                                    id="username"
                                    name="username"
                                    value="{{ user.username }}"
                                    readonly />
                            </div>
                            <br />
                            <div class="form-sections">
                                <h4 class="input-head">Password</h4>
                                <input
                                    type="password"
                                    class="login-input"
                                    id="password"
                                    name="password"
                                    placeholder="Enter new password"
                                    required />
                                <!-- <input type="text" class="login-input" id="password" name="password" value="{{ user.password }}"> -->
                            </div>
                            <br />
                            <div class="form-sections">
                                <h4 class="input-head">E-mail</h4>
                                <input
                                    type="text"
                                    class="login-input"
                                    id="email"
                                    name="email"
                                    value="{{ user.email }}" />
                            </div>
                        </div>
                        <div class="section">
                            <div class="form-sections">
                                <h4 class="input-head">Name</h4>
                                <input
                                    type="text"
                                    class="login-input"
                                    id="name"
                                    name="name"
                                    value="{{ user.name }}" />
                            </div>
                            <br />
                            <div class="form-sections">
                                <h4 class="input-head">Telephone Number</h4>
                                <input
                                    type="text"
                                    class="login-input"
                                    id="telephoneNo"
                                    name="telephoneNo"
                                    value="{{ user.telephoneNo }}" />
                            </div>
                            <br />
                            <div class="form-sections">
                                <h4 class="input-head">User Level</h4>
                                <input
                                    type="text"
                                    class="login-input"
                                    id="level"
                                    name="level"
                                    value="{{ user.level }}" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-sections submit">
                    <input type="submit" class="login-btn" value="Update" />
                    <a href="{{ url_for('all_users') }}"
                        ><input
                            type="button"
                            style="margin-left: 15px"
                            class="btn-cancel login-btn"
                            id="cancel"
                            value="Cancel"
                    /></a>
                    <button
                        type="button"
                        id="showPermissionsList"
                        onclick="openPermissionsList()"
                        title="show permission list">
                        Permissions
                    </button>
                </div>
                <div
                    class="overlay"
                    id="permissionPopupOverlay"
                    onclick="closePermissionsList()"></div>
                <div class="popup" id="permissionList">
                    <div class="popupHeader">
                        <h3>Permissions</h3>
                        <button
                            type="button"
                            onclick="closePermissionsList()"
                            title="close permission list">
                            <i class="ph ph-x"></i>
                        </button>
                    </div>
                    <div class="permission-list" id="permissionsList">
                        <div class="permission">
                            {{ form2.Create_Visitor.label }} {{
                            form2.Create_Visitor(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Edit_Visitor.label }} {{
                            form2.Edit_Visitor(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Approve_Visitor.label }} {{
                            form2.Approve_Visitor(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.In_Visitor.label }} {{
                            form2.In_Visitor(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Out_Visitor.label }} {{
                            form2.Out_Visitor(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Create_Gate_Pass.label }} {{
                            form2.Create_Gate_Pass(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Edit_Gate_Pass.label }} {{
                            form2.Edit_Gate_Pass(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Approve_Gate_Pass.label }} {{
                            form2.Approve_Gate_Pass(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Confirmed_Gate_Pass.label }} {{
                            form2.Confirmed_Gate_Pass(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.In_Gate_Pass.label }} {{
                            form2.In_Gate_Pass(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Out_Gate_Pass.label }} {{
                            form2.Out_Gate_Pass(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Create_User.label }} {{
                            form2.Create_User(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.Create_Reports.label }} {{
                            form2.Create_Reports(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.hod.label }} {{ form2.hod(class="check") }}
                        </div>
                        <div class="permission">
                            {{ form2.outerUser.label }} {{
                            form2.outerUser(class="check") }}
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <script>
            function openPermissionsList() {
                document
                    .getElementById("permissionPopupOverlay")
                    .classList.add("visible");
                document
                    .getElementById("permissionList")
                    .classList.add("visible");
            }

            function closePermissionsList() {
                document
                    .getElementById("permissionPopupOverlay")
                    .classList.remove("visible");
                document
                    .getElementById("permissionList")
                    .classList.remove("visible");
            }
        </script>
        {% endblock %}
    </body>
</html>
